System.register("class-transformer/ClassTransformOptions",[],function(t,e){e&&e.id;return{setters:[],execute:function(){}}}),System.register("class-transformer/metadata/ExposeExcludeOptions",[],function(t,e){e&&e.id;return{setters:[],execute:function(){}}}),System.register("class-transformer/metadata/TypeMetadata",[],function(t,e){var a;e&&e.id;return{setters:[],execute:function(){a=function(){function t(t,e,a,r){this.target=t,this.propertyName=e,this.reflectedType=a,this.typeFunction=r}return t}(),t("TypeMetadata",a)}}}),System.register("class-transformer/metadata/ExposeMetadata",[],function(t,e){var a;e&&e.id;return{setters:[],execute:function(){a=function(){function t(t,e,a){this.target=t,this.propertyName=e,this.options=a}return t}(),t("ExposeMetadata",a)}}}),System.register("class-transformer/metadata/ExcludeMetadata",[],function(t,e){var a;e&&e.id;return{setters:[],execute:function(){a=function(){function t(t,e,a){this.target=t,this.propertyName=e,this.options=a}return t}(),t("ExcludeMetadata",a)}}}),System.register("class-transformer/metadata/TransformMetadata",[],function(t,e){var a;e&&e.id;return{setters:[],execute:function(){a=function(){function t(t,e,a,r){this.target=t,this.propertyName=e,this.transformFn=a,this.options=r}return t}(),t("TransformMetadata",a)}}}),System.register("class-transformer/metadata/MetadataStorage",["class-transformer/TransformOperationExecutor"],function(t,e){var a,r;e&&e.id;return{setters:[function(t){a=t}],execute:function(){r=function(){function t(){this._typeMetadatas=new Map,this._transformMetadatas=new Map,this._exposeMetadatas=new Map,this._excludeMetadatas=new Map,this._ancestorsMap=new Map}return t.prototype.addTypeMetadata=function(t){this._typeMetadatas.has(t.target)||this._typeMetadatas.set(t.target,new Map),this._typeMetadatas.get(t.target).set(t.propertyName,t)},t.prototype.addTransformMetadata=function(t){this._transformMetadatas.has(t.target)||this._transformMetadatas.set(t.target,new Map),this._transformMetadatas.get(t.target).has(t.propertyName)||this._transformMetadatas.get(t.target).set(t.propertyName,[]),this._transformMetadatas.get(t.target).get(t.propertyName).push(t)},t.prototype.addExposeMetadata=function(t){this._exposeMetadatas.has(t.target)||this._exposeMetadatas.set(t.target,new Map),this._exposeMetadatas.get(t.target).set(t.propertyName,t)},t.prototype.addExcludeMetadata=function(t){this._excludeMetadatas.has(t.target)||this._excludeMetadatas.set(t.target,new Map),this._excludeMetadatas.get(t.target).set(t.propertyName,t)},t.prototype.findTransformMetadatas=function(t,e,r){return this.findMetadatas(this._transformMetadatas,t,e).filter(function(t){return!t.options||(!0===t.options.toClassOnly&&!0===t.options.toPlainOnly||(!0===t.options.toClassOnly?r===a.TransformationType.CLASS_TO_CLASS||r===a.TransformationType.PLAIN_TO_CLASS:!0!==t.options.toPlainOnly||r===a.TransformationType.CLASS_TO_PLAIN))})},t.prototype.findExcludeMetadata=function(t,e){return this.findMetadata(this._excludeMetadatas,t,e)},t.prototype.findExposeMetadata=function(t,e){return this.findMetadata(this._exposeMetadatas,t,e)},t.prototype.findExposeMetadataByCustomName=function(t,e){return this.getExposedMetadatas(t).find(function(t){return t.options&&t.options.name===e})},t.prototype.findTypeMetadata=function(t,e){return this.findMetadata(this._typeMetadatas,t,e)},t.prototype.getStrategy=function(t){var e=this._excludeMetadatas.get(t),a=e&&e.get(void 0),r=this._exposeMetadatas.get(t),n=r&&r.get(void 0);return a&&n||!a&&!n?"none":a?"excludeAll":"exposeAll"},t.prototype.getExposedMetadatas=function(t){return this.getMetadata(this._exposeMetadatas,t)},t.prototype.getExcludedMetadatas=function(t){return this.getMetadata(this._excludeMetadatas,t)},t.prototype.getExposedProperties=function(t,e){return this.getExposedMetadatas(t).filter(function(t){return!t.options||(!0===t.options.toClassOnly&&!0===t.options.toPlainOnly||(!0===t.options.toClassOnly?e===a.TransformationType.CLASS_TO_CLASS||e===a.TransformationType.PLAIN_TO_CLASS:!0!==t.options.toPlainOnly||e===a.TransformationType.CLASS_TO_PLAIN))}).map(function(t){return t.propertyName})},t.prototype.getExcludedProperties=function(t,e){return this.getExcludedMetadatas(t).filter(function(t){return!t.options||(!0===t.options.toClassOnly&&!0===t.options.toPlainOnly||(!0===t.options.toClassOnly?e===a.TransformationType.CLASS_TO_CLASS||e===a.TransformationType.PLAIN_TO_CLASS:!0!==t.options.toPlainOnly||e===a.TransformationType.CLASS_TO_PLAIN))}).map(function(t){return t.propertyName})},t.prototype.clear=function(){this._typeMetadatas.clear(),this._exposeMetadatas.clear(),this._excludeMetadatas.clear(),this._ancestorsMap.clear()},t.prototype.getMetadata=function(t,e){var a,r=t.get(e);r&&(a=Array.from(r.values()).filter(function(t){return void 0!==t.propertyName}));for(var n=[],o=0,s=this.getAncestors(e);o<s.length;o++){var i=s[o],f=t.get(i);if(f){var p=Array.from(f.values()).filter(function(t){return void 0!==t.propertyName});n.push.apply(n,p)}}return n.concat(a||[])},t.prototype.findMetadata=function(t,e,a){var r=t.get(e);if(r){var n=r.get(a);if(n)return n}for(var o=0,s=this.getAncestors(e);o<s.length;o++){var i=s[o],f=t.get(i);if(f){var p=f.get(a);if(p)return p}}},t.prototype.findMetadatas=function(t,e,a){var r,n=t.get(e);n&&(r=n.get(a));for(var o=[],s=0,i=this.getAncestors(e);s<i.length;s++){var f=i[s],p=t.get(f);p&&p.has(a)&&o.push.apply(o,p.get(a))}return o.reverse().concat((r||[]).reverse())},t.prototype.getAncestors=function(t){if(!t)return[];if(!this._ancestorsMap.has(t)){for(var e=[],a=Object.getPrototypeOf(t.prototype.constructor);void 0!==a.prototype;a=Object.getPrototypeOf(a.prototype.constructor))e.push(a);this._ancestorsMap.set(t,e)}return this._ancestorsMap.get(t)},t}(),t("MetadataStorage",r)}}}),System.register("class-transformer/storage",["class-transformer/metadata/MetadataStorage"],function(t,e){var a,r;e&&e.id;return{setters:[function(t){a=t}],execute:function(){t("defaultMetadataStorage",r=new a.MetadataStorage)}}}),System.register("class-transformer/TransformOperationExecutor",["class-transformer/storage"],function(t,e){var a,r,n;e&&e.id;return{setters:[function(t){a=t}],execute:function(){!function(t){t[t.PLAIN_TO_CLASS=0]="PLAIN_TO_CLASS",t[t.CLASS_TO_PLAIN=1]="CLASS_TO_PLAIN",t[t.CLASS_TO_CLASS=2]="CLASS_TO_CLASS"}(r||(r={})),t("TransformationType",r),n=function(){function t(t,e){this.transformationType=t,this.options=e,this.transformedTypesMap=new Map}return t.prototype.transform=function(t,e,n,o,s,i){var f=this;if(void 0===i&&(i=0),e instanceof Array||e instanceof Set){var p=o&&this.transformationType===r.PLAIN_TO_CLASS?new o:[];return e.forEach(function(e,a){var o=t?t[a]:void 0;if(f.options.enableCircularCheck&&f.isCircular(e,i))f.transformationType===r.CLASS_TO_CLASS&&(p instanceof Set?p.add(e):p.push(e));else{var s=f.transform(o,e,n,void 0,e instanceof Map,i+1);p instanceof Set?p.add(s):p.push(s)}}),p}if(n!==String||s){if(n!==Number||s){if(n!==Boolean||s){if((n===Date||e instanceof Date)&&!s)return e instanceof Date?new Date(e.valueOf()):null===e||void 0===e?e:new Date(e);if("object"==typeof e&&null!==e){n||e.constructor===Object||(n=e.constructor),!n&&t&&(n=t.constructor),this.options.enableCircularCheck&&this.transformedTypesMap.set(e,{level:i,object:e});var u=this.getKeys(n,e),c=t||{};t||this.transformationType!==r.PLAIN_TO_CLASS&&this.transformationType!==r.CLASS_TO_CLASS||(c=s?new Map:n?new n:{});for(var d=this,l=0,m=u;l<m.length;l++){var y=m[l];!function(o){var f=o,p=o,u=o;if(!d.options.ignoreDecorators&&n)if(d.transformationType===r.PLAIN_TO_CLASS){var l=a.defaultMetadataStorage.findExposeMetadataByCustomName(n,o);l&&(u=l.propertyName,p=l.propertyName)}else if(d.transformationType===r.CLASS_TO_PLAIN||d.transformationType===r.CLASS_TO_CLASS){var l=a.defaultMetadataStorage.findExposeMetadata(n,o);l&&l.options&&l.options.name&&(p=l.options.name)}var m=void 0;m=e instanceof Map?e.get(f):e[f]instanceof Function?e[f]():e[f];var y=void 0,T=m instanceof Map;if(n&&s)y=n;else if(n){var S=a.defaultMetadataStorage.findTypeMetadata(n,u);if(S){var g={newObject:c,object:e,property:u};y=S.typeFunction(g),T=T||S.reflectedType===Map}else d.options.targetMaps&&d.options.targetMaps.filter(function(t){return t.target===n&&!!t.properties[u]}).forEach(function(t){return y=t.properties[u]})}var h=e[f]instanceof Array?d.getReflectedType(n,u):void 0,M=t?t[f]:void 0;if(c.constructor.prototype){var v=Object.getOwnPropertyDescriptor(c.constructor.prototype,p);if((d.transformationType===r.PLAIN_TO_CLASS||d.transformationType===r.CLASS_TO_CLASS)&&(c[p]instanceof Function||v&&!v.set))return"continue"}if(d.options.enableCircularCheck&&d.isCircular(m,i)){if(d.transformationType===r.CLASS_TO_CLASS){var _=m;_=d.applyCustomTransformations(_,n,o,e,d.transformationType),c instanceof Map?c.set(p,_):c[p]=_}}else{var C=d.transformationType===r.PLAIN_TO_CLASS?p:o,_=d.transform(M,m,y,h,T,i+1);_=d.applyCustomTransformations(_,n,C,e,d.transformationType),c instanceof Map?c.set(p,_):c[p]=_}}(y)}return c}return e}return Boolean(e)}return Number(e)}return String(e)},t.prototype.applyCustomTransformations=function(t,e,r,n,o){var s=this,i=a.defaultMetadataStorage.findTransformMetadatas(e,r,this.transformationType);return void 0!==this.options.version&&(i=i.filter(function(t){return!t.options||s.checkVersion(t.options.since,t.options.until)})),i=this.options.groups&&this.options.groups.length?i.filter(function(t){return!t.options||s.checkGroups(t.options.groups)}):i.filter(function(t){return!t.options||!t.options.groups||!t.options.groups.length}),i.forEach(function(e){t=e.transformFn(t,n,o)}),t},t.prototype.isCircular=function(t,e){var a=this.transformedTypesMap.get(t);return void 0!==a&&a.level<e},t.prototype.getReflectedType=function(t,e){if(t){var r=a.defaultMetadataStorage.findTypeMetadata(t,e);return r?r.reflectedType:void 0}},t.prototype.getKeys=function(t,e){var n=this,o=a.defaultMetadataStorage.getStrategy(t);"none"===o&&(o=this.options.strategy||"exposeAll");var s=[];if("exposeAll"===o&&(s=e instanceof Map?Array.from(e.keys()):Object.keys(e)),!this.options.ignoreDecorators&&t){var i=a.defaultMetadataStorage.getExposedProperties(t,this.transformationType);this.transformationType===r.PLAIN_TO_CLASS&&(i=i.map(function(e){var r=a.defaultMetadataStorage.findExposeMetadata(t,e);return r&&r.options&&r.options.name?r.options.name:e})),s=s.concat(i);var f=a.defaultMetadataStorage.getExcludedProperties(t,this.transformationType);f.length>0&&(s=s.filter(function(t){return-1===f.indexOf(t)})),void 0!==this.options.version&&(s=s.filter(function(e){var r=a.defaultMetadataStorage.findExposeMetadata(t,e);return!r||!r.options||n.checkVersion(r.options.since,r.options.until)})),s=this.options.groups&&this.options.groups.length?s.filter(function(e){var r=a.defaultMetadataStorage.findExposeMetadata(t,e);return!r||!r.options||n.checkGroups(r.options.groups)}):s.filter(function(e){var r=a.defaultMetadataStorage.findExposeMetadata(t,e);return!(r&&r.options&&r.options.groups&&r.options.groups.length)})}return this.options.excludePrefixes&&this.options.excludePrefixes.length&&(s=s.filter(function(t){return n.options.excludePrefixes.every(function(e){return t.substr(0,e.length)!==e})})),s=s.filter(function(t,e,a){return a.indexOf(t)===e})},t.prototype.checkVersion=function(t,e){var a=!0;return a&&t&&(a=this.options.version>=t),a&&e&&(a=this.options.version<e),a},t.prototype.checkGroups=function(t){return!t||this.options.groups.some(function(e){return-1!==t.indexOf(e)})},t}(),t("TransformOperationExecutor",n)}}}),System.register("class-transformer/ClassTransformer",["class-transformer/TransformOperationExecutor"],function(t,e){var a,r;e&&e.id;return{setters:[function(t){a=t}],execute:function(){r=function(){function t(){}return t.prototype.classToPlain=function(t,e){return new a.TransformOperationExecutor(a.TransformationType.CLASS_TO_PLAIN,e||{}).transform(void 0,t,void 0,void 0,void 0,void 0)},t.prototype.classToPlainFromExist=function(t,e,r){return new a.TransformOperationExecutor(a.TransformationType.CLASS_TO_PLAIN,r||{}).transform(e,t,void 0,void 0,void 0,void 0)},t.prototype.plainToClass=function(t,e,r){return new a.TransformOperationExecutor(a.TransformationType.PLAIN_TO_CLASS,r||{}).transform(void 0,e,t,void 0,void 0,void 0)},t.prototype.plainToClassFromExist=function(t,e,r){return new a.TransformOperationExecutor(a.TransformationType.PLAIN_TO_CLASS,r||{}).transform(t,e,void 0,void 0,void 0,void 0)},t.prototype.classToClass=function(t,e){return new a.TransformOperationExecutor(a.TransformationType.CLASS_TO_CLASS,e||{}).transform(void 0,t,void 0,void 0,void 0,void 0)},t.prototype.classToClassFromExist=function(t,e,r){return new a.TransformOperationExecutor(a.TransformationType.CLASS_TO_CLASS,r||{}).transform(e,t,void 0,void 0,void 0,void 0)},t.prototype.serialize=function(t,e){return JSON.stringify(this.classToPlain(t,e))},t.prototype.deserialize=function(t,e,a){var r=JSON.parse(e);return this.plainToClass(t,r,a)},t.prototype.deserializeArray=function(t,e,a){var r=JSON.parse(e);return this.plainToClass(t,r,a)},t}(),t("ClassTransformer",r)}}}),System.register("class-transformer/decorators",["class-transformer/ClassTransformer","class-transformer/storage","class-transformer/metadata/TypeMetadata","class-transformer/metadata/ExposeMetadata","class-transformer/metadata/ExcludeMetadata","class-transformer/metadata/TransformMetadata"],function(t,e){function a(t,e){return function(a,r){var n=new l.TransformMetadata(a.constructor,r,t,e);p.defaultMetadataStorage.addTransformMetadata(n)}}function r(t){return function(e,a){var r=Reflect.getMetadata("design:type",e,a),n=new u.TypeMetadata(e.constructor,a,r,t);p.defaultMetadataStorage.addTypeMetadata(n)}}function n(t){return function(e,a){var r=new c.ExposeMetadata(e instanceof Function?e:e.constructor,a,t||{});p.defaultMetadataStorage.addExposeMetadata(r)}}function o(t){return function(e,a){var r=new d.ExcludeMetadata(e instanceof Function?e:e.constructor,a,t||{});p.defaultMetadataStorage.addExcludeMetadata(r)}}function s(t){return function(e,a,r){var n=new f.ClassTransformer,o=r.value;r.value=function(){for(var e=[],a=0;a<arguments.length;a++)e[a]=arguments[a];var r=o.apply(this,e);return!r||"object"!=typeof r&&"function"!=typeof r||"function"!=typeof r.then?n.classToPlain(r,t):r.then(function(e){return n.classToPlain(e,t)})}}}function i(t){return function(e,a,r){var n=new f.ClassTransformer,o=r.value;r.value=function(){for(var e=[],a=0;a<arguments.length;a++)e[a]=arguments[a];var r=o.apply(this,e);return!r||"object"!=typeof r&&"function"!=typeof r||"function"!=typeof r.then?n.classToClass(r,t):r.then(function(e){return n.classToClass(e,t)})}}}var f,p,u,c,d,l;e&&e.id;return t("Transform",a),t("Type",r),t("Expose",n),t("Exclude",o),t("TransformClassToPlain",s),t("TransformClassToClass",i),{setters:[function(t){f=t},function(t){p=t},function(t){u=t},function(t){c=t},function(t){d=t},function(t){l=t}],execute:function(){}}}),System.register("class-transformer/index",["class-transformer/ClassTransformer","class-transformer/decorators"],function(t,e){function a(t,e){return l.classToPlain(t,e)}function r(t,e,a){return l.classToPlainFromExist(t,e,a)}function n(t,e,a){return l.plainToClass(t,e,a)}function o(t,e,a){return l.plainToClassFromExist(t,e,a)}function s(t,e){return l.classToClass(t,e)}function i(t,e,a){return l.classToClassFromExist(t,e,a)}function f(t,e){return l.serialize(t,e)}function p(t,e,a){return l.deserialize(t,e,a)}function u(t,e,a){return l.deserializeArray(t,e,a)}function c(e){var a={};for(var r in e)"default"===r||y.hasOwnProperty(r)||(a[r]=e[r]);t(a)}var d,l,m;e&&e.id;t("classToPlain",a),t("classToPlainFromExist",r),t("plainToClass",n),t("plainToClassFromExist",o),t("classToClass",s),t("classToClassFromExist",i),t("serialize",f),t("deserialize",p),t("deserializeArray",u);var y={classToPlain:!0,classToPlainFromExist:!0,plainToClass:!0,plainToClassFromExist:!0,classToClass:!0,classToClassFromExist:!0,serialize:!0,deserialize:!0,deserializeArray:!0,TransformationType:!0,ClassTransformer:!0};return{setters:[function(e){d=e,t({ClassTransformer:e.ClassTransformer})},function(t){c(t)}],execute:function(){l=new d.ClassTransformer,function(t){t[t.PLAIN_TO_CLASS=0]="PLAIN_TO_CLASS",t[t.CLASS_TO_PLAIN=1]="CLASS_TO_PLAIN",t[t.CLASS_TO_CLASS=2]="CLASS_TO_CLASS"}(m||(m={})),t("TransformationType",m)}}}),System.register("class-transformer",["class-transformer/index"],function(t,e){function a(e){var a={};for(var r in e)"default"!==r&&(a[r]=e[r]);t(a)}e&&e.id;return{setters:[function(t){a(t)}],execute:function(){}}});